name: 👥 Evaluación de Acceso al Núcleo
on:
  issues:
    types: [labeled]

jobs:
  evaluar-solicitud:
    if: contains(github.event.issue.labels.*.name, 'solicitud-nucleo')
    runs-on: ubuntu-latest
    steps:
      - name: Checkout código
        uses: actions/checkout@v3

      - name: Verificar solicitud
        run: |
          echo "📋 Nueva solicitud de acceso al núcleo"
          echo "Issue: ${{ github.event.issue.number }}"
          echo "Usuario: ${{ github.event.issue.user.login }}"
          
          # Verificación simplificada - solo verificar que es el owner
          if [ "${{ github.event.issue.user.login }}" == "Token-10-Protocol" ]; then
            echo "✅ Usuario verificado - Propietario del repositorio"
          else
            echo "⚠️  Solicitud de usuario externo - Requiere revisión manual"
          fi

      - name: Notificar revisión manual
        if: github.event.issue.user.login != 'Token-10-Protocol'
        run: |
          echo "🔔 Se requiere revisión manual para: ${{ github.event.issue.user.login }}"
