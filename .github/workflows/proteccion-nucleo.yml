name: üîí Protecci√≥n del N√∫cleo Token 10
on:
  push:
    paths:
      - 'nucleo/**'
  pull_request:
    paths:
      - 'nucleo/**'

jobs:
  escanear-seguridad:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout c√≥digo
        uses: actions/checkout@v3

      - name: Escanear secrets en el n√∫cleo
        uses: gitleaks/gitleaks-action@v2
        with:
          path: ./nucleo
          config-path: nucleo/.gitleaks.toml  # ‚Üê Apunta a tu archivo existente

      - name: Verificar estructura del n√∫cleo
        run: |
          # Verificar que el archivo de configuraci√≥n existe
          if [ ! -f "nucleo/.gitleaks.toml" ]; then
            echo "‚ùå Falta archivo de configuraci√≥n Gitleaks en el n√∫cleo"
            exit 1
          fi
          echo "‚úÖ Configuraci√≥n de seguridad verificada"
